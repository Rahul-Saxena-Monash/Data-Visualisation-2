<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Ocean Acidification Dashboard</title>
        <link rel="stylesheet" href="index.css" media="print" onload="this.media='all'">
        <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
        <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    </head>
    <body>
        <h1>Ocean Acidification</h1>
        <div class="container">
            <div id="map-container">
                <h2>pH Deviation Map</h2>
                <p>This map shows the deviation of pH in the ocean surrounding Australia from the global average in 2013. The global average is calculated by taking the mean pH value across all measured locations for that year.</p>
                <p>The pH deviation is measured using the pH scale, where a deviation of 0 represents the global average. Positive deviations (shown in red) indicate more basic conditions, while negative deviations (shown in blue) indicate more acidic conditions.</p>
                <p>This visualization helps identify areas where ocean acidification is more pronounced or where local factors might be influencing pH levels.</p>
                <div id="ph-deviation-chart"></div>
                <h3>pH Deviation Over Time</h3>
                <p>The following chart illustrates how the average pH deviation has changed over the decades, from the 1870s to the 2010s.</p>
                <p>Each bar represents a decade, with the length and color of the bar indicating the average pH deviation for that period. This allows us to see long-term trends in ocean acidification:</p>
                <ul>
                    <li>Bars extending to the right (blue) show decades with higher average pH (more basic conditions).</li>
                    <li>Bars extending to the left (red) indicate decades with lower average pH (more acidic conditions).</li>
                </ul>
                <p>This visualization helps us understand the historical progression of ocean acidification, highlighting periods of significant change.</p>
                <div id="ph-deviation-bar-chart"></div>
            </div>
            <div id="time-series-container">
                <h2>Ocean Acidification Time Series</h2>
                <p>This interactive chart shows changes in key variables related to ocean acidification over time. Use the dropdown menu to select different variables:</p>
                <ul>
                    <li><strong>pH:</strong> Measures acidity. A decreasing trend indicates increasing acidity, which can harm marine organisms, especially those with calcium carbonate shells or skeletons.</li>
                    <li><strong>Sea Surface Temperature (SST):</strong> Rising temperatures can accelerate chemical reactions and reduce the ocean's capacity to absorb CO2, exacerbating acidification.</li>
                    <li><strong>Sea Surface Salinity (SSS):</strong> Changes in salinity can affect the ocean's ability to absorb CO2 and impact marine ecosystems.</li>
                    <li><strong>Aragonite Saturation State (OMEGA_A):</strong> A decreasing value indicates it's harder for marine organisms to form aragonite shells, crucial for many species' survival.</li>
                    <li><strong>Calcite Saturation State (OMEGA_C):</strong> Similar to aragonite, a lower value makes it more difficult for organisms to form calcite shells, affecting various marine species.</li>
                    <li><strong>pH Deviation:</strong> Shows how much the pH differs from the long-term average, helping to identify periods of significant change.</li>
                </ul>
                <p>The chart includes annotations for significant historical events that may have influenced ocean chemistry:</p>
                <ul>
                    <li>World War I (1914-1918): Marked by a gray box.</li>
                    <li>The Great Depression (1929): Indicated by a vertical dashed line.</li>
                    <li>Start of Keeling Curve measurements (1958): Marked by a green vertical line, representing the beginning of continuous atmospheric CO2 measurements.</li>
                </ul>
                <div id="time-series-chart"></div>
            </div>
            <div id="heatmap-container">
                <h2>Ocean Acidification Heatmaps</h2>
                <p>These heatmaps provide a comprehensive view of changes in all variables related to ocean acidification over time. The color intensity represents the deviation from the mean value for each variable, with blue indicating lower values and red indicating higher values.</p>
                <h3>Global Normalization Heatmap</h3>
                <p>This heatmap uses global normalization, allowing direct comparison between variables:</p>
                <ul>
                    <li>Each row represents a different variable.</li>
                    <li>Each column represents a specific point in time.</li>
                    <li>The color intensity shows how much each value deviates from the overall mean across all variables and time points.</li>
                </ul>
                <p>This visualization helps identify periods when multiple variables showed significant changes simultaneously, potentially indicating major shifts in ocean chemistry.</p>
                <div id="global-heatmap"></div>
                <h3>Independent Normalization Heatmap</h3>
                <p>This heatmap uses independent normalization for each variable:</p>
                <ul>
                    <li>Each variable is normalized separately based on its own mean and standard deviation.</li>
                    <li>This approach highlights relative changes within each variable over time.</li>
                    <li>It's particularly useful for identifying trends and patterns specific to each variable, regardless of their absolute scale.</li>
                </ul>
                <p>This visualization allows us to see how each variable has changed relative to its own historical values, making it easier to spot trends that might be less apparent in the global normalization view.</p>
                <div id="independent-heatmap"></div>
            </div>
        </div>
        <div id="loader" class="loader">
            <div class="spinner"></div>
        </div>
        <script src="./index.js"></script>
    </body>
</html>